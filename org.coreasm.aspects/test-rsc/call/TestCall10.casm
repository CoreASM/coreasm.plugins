CoreASM TestCall10

use Standard
use AoASMPlugin

aspect {

	/** TEST 10
	* test if the regular expression works for the matching pattern WITH RETURN
	*
	* @precondition
	* 	<ol>
	*		<li>rule DoSome*</li>
	*	</ol>
	* @expects
	*	no parse error & no runtime error; output before the method doSomethingElse
	*
	* @require "DoSomething\nTestCall10\nDoSomethingElse"
	*/
	advice TestCall10 before : call( "DoSome[_a-zA-Z0-9]*" ) with return { print "TestCall10"}

}

init StartRule

rule StartRule =
	seqblock
		DoSomething
		print DoSomethingElse
	endseqblock

rule DoSomething =
	print "DoSomething"

rule DoSomethingElse =
	return res in 
		res := "DoSomethingElse"