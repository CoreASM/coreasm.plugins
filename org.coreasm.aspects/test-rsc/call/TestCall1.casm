CoreASM TestCall1

use Standard
use AoASMPlugin

init TestCallPointcut

aspect ParserTest {

	function static aa : -> STRING initially "asd"

	rule asd = skip

	pointcut a(a1, a2) : b(a1, a2)

	pointcut b(fn, nmb) : call("X" as fn, "[0-9]*" as nmb) by "InitAgent" without return

	//@ requires "test(4)"
	advice test(fn, nmb) before : a(fn, nmb) { print "test( "+ nmb +" )"}

}

rule X(a) = {
	print a
}
//@requires "4"
//@requires "Hallo Welt!"
rule TestCallPointcut = {
	X(4)
	print "Hallo Welt!"
}